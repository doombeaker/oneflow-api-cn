<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="oneflow.nn.image" href="image.html" /><link rel="prev" title="oneflow.nn.Graph" href="graph.html" />

    <meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>oneflow.linalg - OneFlow documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">OneFlow  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">OneFlow  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">OneFlow Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="oneflow.html">oneflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensor.html">oneflow.Tensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="nn.html">oneflow.nn</a></li>
<li class="toctree-l1"><a class="reference internal" href="functional.html">oneflow.nn.functional</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">oneflow.nn.Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="graph.html">oneflow.nn.Graph</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">oneflow.linalg</a></li>
<li class="toctree-l1"><a class="reference internal" href="image.html">oneflow.nn.image</a></li>
<li class="toctree-l1"><a class="reference internal" href="optim.html">oneflow.optim</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">oneflow.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="cuda.html">oneflow.cuda</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributed.html">oneflow.distributed</a></li>
<li class="toctree-l1"><a class="reference internal" href="comm.html">oneflow.comm</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="oneflow-linalg">
<h1>oneflow.linalg<a class="headerlink" href="#oneflow-linalg" title="Permalink to this headline">¶</a></h1>
<div class="section" id="oneflow-linear-algebra-operations">
<h2>OneFlow linear algebra operations.<a class="headerlink" href="#oneflow-linear-algebra-operations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="oneflow.linalg.matrix_norm">
<code class="sig-prename descclassname"><span class="pre">oneflow.linalg.</span></code><code class="sig-name descname"><span class="pre">matrix_norm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fro'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(-</span> <span class="pre">2,</span> <span class="pre">-</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> → <span class="pre">Tensor</span><a class="headerlink" href="#oneflow.linalg.matrix_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a matrix norm.</p>
<p>Support input of float, double, cfloat and cdouble dtypes.
Also supports batches of matrices: the norm will be computed over the
dimensions specified by the 2-tuple <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> and the other dimensions will
be treated as batch dimensions. The output will have the same batch dimensions.</p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code> defines the matrix norm that is computed. The following norms are supported:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 28%"/>
<col style="width: 72%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code></p></th>
<th class="head"><p>matrix norm</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>‘fro’</cite> (default)</p></td>
<td><p>Frobenius norm</p></td>
</tr>
<tr class="row-odd"><td><p><cite>‘nuc’</cite></p></td>
<td><p>– not supported yet –</p></td>
</tr>
<tr class="row-even"><td><p><cite>inf</cite></p></td>
<td><p><cite>max(sum(abs(x), dim=1))</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>-inf</cite></p></td>
<td><p><cite>min(sum(abs(x), dim=1))</cite></p></td>
</tr>
<tr class="row-even"><td><p><cite>1</cite></p></td>
<td><p><cite>max(sum(abs(x), dim=0))</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>-1</cite></p></td>
<td><p><cite>min(sum(abs(x), dim=0))</cite></p></td>
</tr>
<tr class="row-even"><td><p><cite>2</cite></p></td>
<td><p>– not supported yet –</p></td>
</tr>
<tr class="row-odd"><td><p><cite>-2</cite></p></td>
<td><p>– not supported yet –</p></td>
</tr>
</tbody>
</table></div>
<p>where <cite>inf</cite> refers to <cite>float(‘inf’)</cite>, NumPy’s <cite>inf</cite> object, or any equivalent object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="tensor.html#oneflow.Tensor" title="oneflow.Tensor"><em>Tensor</em></a>) – tensor with two or more dimensions. By default its
shape is interpreted as <cite>(*, m, n)</cite> where <cite>*</cite> is zero or more
batch dimensions, but this behavior can be controlled using <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code>.</p></li>
<li><p><strong>ord</strong> (<em>int</em><em>, </em><em>inf</em><em>, </em><em>-inf</em><em>, </em><em>'fro'</em><em>, </em><em>'nuc'</em><em>, </em><em>optional</em>) – order of norm. Default: <cite>‘fro’</cite></p></li>
<li><p><strong>dim</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>optional</em>) – dimensions over which to compute the norm. Default: <cite>(-2, -1)</cite></p></li>
<li><p><strong>keepdim</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to <cite>True</cite>, the reduced dimensions are retained
in the result as dimensions with size one. Default: <cite>False</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A real-valued tensor.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">oneflow</span> <span class="k">as</span> <span class="nn">flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oneflow</span> <span class="k">import</span> <span class="n">linalg</span> <span class="k">as</span> <span class="n">LA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">tensor([[0., 1., 2.],</span>
<span class="go">        [3., 4., 5.],</span>
<span class="go">        [6., 7., 8.]], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">matrix_norm</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">tensor(14.2829, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">matrix_norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">tensor(9., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">tensor([[[0., 1., 2.],</span>
<span class="go">         [3., 4., 5.],</span>
<span class="go">         [6., 7., 8.]],</span>

<span class="go">        [[0., 1., 2.],</span>
<span class="go">         [3., 4., 5.],</span>
<span class="go">         [6., 7., 8.]]], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">matrix_norm</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">tensor([14.2829, 14.2829], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">matrix_norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">tensor([ 3.1623, 10.0000, 17.2627], dtype=oneflow.float32)</span>
</pre></div>
</div>
</dd></dl>
<dl class="py function">
<dt id="oneflow.linalg.norm">
<code class="sig-prename descclassname"><span class="pre">oneflow.linalg.</span></code><code class="sig-name descname"><span class="pre">norm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> → <span class="pre">Tensor</span><a class="headerlink" href="#oneflow.linalg.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the matrix norm or vector norm of a given tensor.</p>
<p>This function can calculate one of eight different types of matrix norms, or one
of an infinite number of vector norms, depending on both the number of reduction
dimensions and the value of the <cite>ord</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="tensor.html#oneflow.Tensor" title="oneflow.Tensor"><em>Tensor</em></a>) – The input tensor. If dim is None, input must be 1-D or 2-D, unless <code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code>
is None. If both <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code> are None, the 2-norm of the input flattened to 1-D
will be returned. Its data type must be either a floating point or complex type. For complex
inputs, the norm is calculated on of the absolute values of each element. If the input is
complex and neither <code class="xref py py-attr docutils literal notranslate"><span class="pre">dtype</span></code> nor <code class="xref py py-attr docutils literal notranslate"><span class="pre">out</span></code> is specified, the result’s data type will
be the corresponding floating point type (e.g. float if <code class="xref py py-attr docutils literal notranslate"><span class="pre">input</span></code> is complexfloat).</p></li>
<li><p><strong>ord</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>inf</em><em>, </em><em>-inf</em><em>, </em><em>'fro'</em><em>, </em><em>'nuc'</em><em>, </em><em>optional</em>) – <p>The order of norm.
inf refers to <code class="xref py py-attr docutils literal notranslate"><span class="pre">float('inf')</span></code>, numpy’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">inf</span></code> object, or any equivalent object.
The following norms can be calculated:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 8%"/>
<col style="width: 47%"/>
<col style="width: 44%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ord</p></th>
<th class="head"><p>norm for matrices</p></th>
<th class="head"><p>norm for vectors</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>None</p></td>
<td><p>Frobenius norm</p></td>
<td><p>2-norm</p></td>
</tr>
<tr class="row-odd"><td><p>’fro’</p></td>
<td><p>Frobenius norm</p></td>
<td><p>– not supported –</p></td>
</tr>
<tr class="row-even"><td><p>‘nuc’</p></td>
<td><p>– not supported yet –</p></td>
<td><p>– not supported –</p></td>
</tr>
<tr class="row-odd"><td><p>inf</p></td>
<td><p>max(sum(abs(x), dim=1))</p></td>
<td><p>max(abs(x))</p></td>
</tr>
<tr class="row-even"><td><p>-inf</p></td>
<td><p>min(sum(abs(x), dim=1))</p></td>
<td><p>min(abs(x))</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>– not supported –</p></td>
<td><p>sum(x != 0)</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>max(sum(abs(x), dim=0))</p></td>
<td><p>as below</p></td>
</tr>
<tr class="row-odd"><td><p>-1</p></td>
<td><p>min(sum(abs(x), dim=0))</p></td>
<td><p>as below</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>– not supported yet –</p></td>
<td><p>as below</p></td>
</tr>
<tr class="row-odd"><td><p>-2</p></td>
<td><p>– not supported yet –</p></td>
<td><p>as below</p></td>
</tr>
<tr class="row-even"><td><p>other</p></td>
<td><p>– not supported –</p></td>
<td><p>sum(abs(x)**ord)**(1./ord)</p></td>
</tr>
</tbody>
</table></div>
<p>Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</p></li>
<li><p><strong>dim</strong> (<em>int</em><em>, </em><em>2-tuple of ints</em><em>, </em><em>2-list of ints</em><em>, </em><em>optional</em>) – If <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> is an int,
vector norm will be calculated over the specified dimension. If <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code>
is a 2-tuple of ints, matrix norm will be calculated over the specified
dimensions. If <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> is None, matrix norm will be calculated
when the input tensor has two dimensions, and vector norm will be
calculated when the input tensor has one dimension. Default: <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p><strong>keepdim</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to True, the reduced dimensions are retained
in the result as dimensions with size one. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
<li><p><strong>out</strong> (<a class="reference internal" href="tensor.html#oneflow.Tensor" title="oneflow.Tensor"><em>Tensor</em></a><em>, </em><em>optional</em>) – The output tensor.</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">oneflow</span> <span class="k">as</span> <span class="nn">flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oneflow</span> <span class="k">import</span> <span class="n">linalg</span> <span class="k">as</span> <span class="n">LA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">tensor([-4., -3., -2., -1.,  0.,  1.,  2.,  3.,  4.], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">tensor([[-4., -3., -2.],</span>
<span class="go">        [-1.,  0.,  1.],</span>
<span class="go">        [ 2.,  3.,  4.]], dtype=oneflow.float32)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">tensor(7.7460, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">tensor(7.7460, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s1">'fro'</span><span class="p">)</span>
<span class="go">tensor(7.7460, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
<span class="go">tensor(4., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
<span class="go">tensor(9., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
<span class="go">tensor(0., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">'inf'</span><span class="p">))</span>
<span class="go">tensor(2., dtype=oneflow.float32)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">tensor(20., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">tensor(7., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">tensor(0., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">tensor(6., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">tensor(7.7460, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">tensor(0., dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">tensor(5.8480, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="go">tensor(0., dtype=oneflow.float32)</span>
</pre></div>
</div>
<p>Using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> argument to compute vector norms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
<span class="gp">... </span>                  <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">tensor([1.4142, 2.2361, 5.0000], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">keepdim</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="go">tensor([[3.7417],</span>
<span class="go">        [4.2426]], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">tensor([6., 6.], dtype=oneflow.float32)</span>
</pre></div>
</div>
<p>Using the <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> argument to compute matrix norms:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">tensor([ 3.7417, 11.2250], dtype=oneflow.float32)</span>
</pre></div>
</div>
</dd></dl>
<dl class="py function">
<dt id="oneflow.linalg.vector_norm">
<code class="sig-prename descclassname"><span class="pre">oneflow.linalg.</span></code><code class="sig-name descname"><span class="pre">vector_norm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keepdim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> → <span class="pre">Tensor</span><a class="headerlink" href="#oneflow.linalg.vector_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a vector norm.</p>
<p>Supports input of float, double dtypes.</p>
<p>This function does not necessarily treat multidimensonal attr:<cite>input</cite> as a batch of
vectors, instead:</p>
<ul class="simple">
<li><p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code><cite>= None</cite>, <code class="xref py py-attr docutils literal notranslate"><span class="pre">input</span></code> will be flattened before the norm is computed.</p></li>
<li><p>If <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code> is an <cite>int</cite> or a <cite>tuple</cite>, the norm will be computed over these dimensions and the other dimensions will be treated as batch dimensions.</p></li>
</ul>
<p>This behavior is for consistency with <code class="xref py py-func docutils literal notranslate"><span class="pre">flow.linalg.norm()</span></code>.</p>
<p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code> defines the vector norm that is computed. The following norms are supported:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 28%"/>
<col style="width: 72%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><code class="xref py py-attr docutils literal notranslate"><span class="pre">ord</span></code></p></th>
<th class="head"><p>vector norm</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><cite>2</cite> (default)</p></td>
<td><p><cite>2</cite>-norm (see below)</p></td>
</tr>
<tr class="row-odd"><td><p><cite>inf</cite></p></td>
<td><p><cite>max(abs(x))</cite></p></td>
</tr>
<tr class="row-even"><td><p><cite>-inf</cite></p></td>
<td><p><cite>min(abs(x))</cite></p></td>
</tr>
<tr class="row-odd"><td><p><cite>0</cite></p></td>
<td><p><cite>sum(x != 0)</cite></p></td>
</tr>
<tr class="row-even"><td><p>other <cite>int</cite> or <cite>float</cite></p></td>
<td><p><cite>sum(abs(x)^{ord})^{(1 / ord)}</cite></p></td>
</tr>
</tbody>
</table></div>
<p>where <cite>inf</cite> refers to <cite>float(‘inf’)</cite>, NumPy’s <cite>inf</cite> object, or any equivalent object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<a class="reference internal" href="tensor.html#oneflow.Tensor" title="oneflow.Tensor"><em>Tensor</em></a>) – tensor, flattened by default, but this behavior can be
controlled using <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code>.</p></li>
<li><p><strong>ord</strong> (<em>int</em><em>, </em><em>float</em><em>, </em><em>inf</em><em>, </em><em>-inf</em><em>, </em><em>'fro'</em><em>, </em><em>'nuc'</em><em>, </em><em>optional</em>) – order of norm. Default: <cite>2</cite></p></li>
<li><p><strong>dim</strong> (<em>int</em><em>, </em><em>Tuple</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – dimensions over which to compute
the norm. See above for the behavior when <code class="xref py py-attr docutils literal notranslate"><span class="pre">dim</span></code><cite>= None</cite>.
Default: <cite>None</cite></p></li>
<li><p><strong>keepdim</strong> (<em>bool</em><em>, </em><em>optional</em>) – If set to <cite>True</cite>, the reduced dimensions are retained
in the result as dimensions with size one. Default: <cite>False</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A real-valued tensor.</p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">oneflow</span> <span class="k">as</span> <span class="nn">flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">oneflow</span> <span class="k">import</span> <span class="n">linalg</span> <span class="k">as</span> <span class="n">LA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">tensor([-4., -3., -2., -1.,  0.,  1.,  2.,  3.,  4.], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">tensor([[-4., -3., -2.],</span>
<span class="go">        [-1.,  0.,  1.],</span>
<span class="go">        [ 2.,  3.,  4.]], dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">vector_norm</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">tensor(5.4345, dtype=oneflow.float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LA</span><span class="o">.</span><span class="n">vector_norm</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">ord</span><span class="o">=</span><span class="mf">3.5</span><span class="p">)</span>
<span class="go">tensor(5.4345, dtype=oneflow.float32)</span>
</pre></div>
</div>
</dd></dl>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="image.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">oneflow.nn.image</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="graph.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">oneflow.nn.Graph</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020, OneFlow
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/linalg.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">oneflow.linalg</a><ul>
<li><a class="reference internal" href="#oneflow-linear-algebra-operations">OneFlow linear algebra operations.</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>